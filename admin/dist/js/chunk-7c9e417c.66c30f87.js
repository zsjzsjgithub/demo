(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c9e417c"],{"268f":function(t,e,o){t.exports=o("fde4")},3220:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{position:"relative"}},[o("div",{staticClass:"menu"},[o("div",{staticClass:"main"},[o("div",{staticClass:"rt"},[o("el-dropdown",{staticClass:"account",attrs:{trigger:"click",placement:"bottom"},on:{command:t.doCmd}},[o("span",{staticClass:"account-link"},[t._v("\n            "+t._s(t.member?t.member.nickname?t.member.nickname:t.member.username:"")),o("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{directives:[{name:"t",rawName:"v-t",value:"change_password",expression:"'change_password'"}],attrs:{command:"showPwd"}}),t.isAdmin?o("el-dropdown-item",{directives:[{name:"t",rawName:"v-t",value:"profile",expression:"'profile'"}],attrs:{command:"sprofile"}}):t._e(),o("el-dropdown-item",{directives:[{name:"t",rawName:"v-t",value:"logout",expression:"'logout'"}],staticClass:"logout",attrs:{divided:"",command:"loginout"}})],1)],1),o("el-dropdown",{staticClass:"lang",attrs:{trigger:"click",placement:"bottom"},on:{command:t.submitLang}},[o("span",{staticClass:"lang-link"},["ko_KR"===t.lang?[o("em",{staticClass:"ko_KR"}),t._v("한국어\n            ")]:t._e(),"zh_CN"===t.lang?[o("em"),t._v("中文\n            ")]:t._e(),o("i",{staticClass:"el-icon-caret-bottom el-icon--right"})],2),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"ko_KR"!==t.lang,expression:"lang !== 'ko_KR'"}],attrs:{command:"ko_KR"}},[t._v("한국어")]),o("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:"zh_CN"!==t.lang,expression:"lang !== 'zh_CN'"}],attrs:{command:"zh_CN"}},[t._v("中文")])],1)],1)],1),o("div",{staticClass:"logo"},[t._v("FX HOS")]),t.isAdmin?o("div",{staticClass:"menu-list"},[o("span",{staticClass:"in",class:{s:t.topData.deposit.pending>0},on:{click:function(e){return t.finance("deposit","pending","1","1")}}},[t._v(t._s(t.$t("deposit_pending"))),o("em",[t._v(t._s(t.topData.deposit.pending))])]),o("span",{staticClass:"in",class:{s:t.topData.deposit.waitting>0},on:{click:function(e){return t.finance("deposit","waitting","1","4")}}},[t._v(t._s(t.$t("deposit_waitting"))),o("em",[t._v(t._s(t.topData.deposit.waitting))])]),o("span",{staticClass:"in r",class:{s:t.topData.deposit.completed>0},on:{click:function(e){return t.finance("deposit","completed","1","3")}}},[t._v(t._s(t.$t("deposit_completed"))),o("em",[t._v(t._s(t.topData.deposit.completed))])]),o("span",{staticClass:"out",class:{s:t.topData.withdrawal.pending>0},on:{click:function(e){return t.finance("withdrawal","pending","2","1")}}},[t._v(t._s(t.$t("withdrawal_pending"))),o("em",[t._v(t._s(t.topData.withdrawal.pending))])]),o("span",{staticClass:"out",class:{s:t.topData.withdrawal.waitting>0},on:{click:function(e){return t.finance("withdrawal","waitting","2","4")}}},[t._v(t._s(t.$t("withdrawal_waitting"))),o("em",[t._v(t._s(t.topData.withdrawal.waitting))])]),o("span",{staticClass:"out r",class:{s:t.topData.withdrawal.completed>0},on:{click:function(e){return t.finance("withdrawal","completed","2","3")}}},[t._v(t._s(t.$t("withdrawal_completed"))),o("em",[t._v(t._s(t.topData.withdrawal.completed))])]),o("span",{class:{s:t.topData.question>0},on:{click:t.question}},[t._v(t._s(t.$t("member_question"))),o("em",[t._v(t._s(t.topData.question))])]),o("span",{class:{s:t.topData.member.new>0},on:{click:function(e){return t.mem("new")}}},[t._v(t._s(t.$t("member_new"))),o("em",[t._v(t._s(t.topData.member.new))])]),o("span",{class:{s:t.topData.member.online>0},on:{click:function(e){return t.mem("online")}}},[t._v(t._s(t.$t("member_online"))),o("em",[t._v(t._s(t.topData.member.online))])])]):t._e()])]),o("el-dialog",{attrs:{title:t.$t("change_password"),visible:t.showPassword,width:"400px"},on:{"update:visible":function(e){t.showPassword=e}}},[o("el-form",{attrs:{"label-width":"80px",model:t.form,rules:t.rules}},[o("el-form-item",{attrs:{label:t.$t("old_password"),prop:"old_password"}},[o("el-input",{attrs:{"show-password":""},model:{value:t.form.old_password,callback:function(e){t.$set(t.form,"old_password",e)},expression:"form.old_password"}})],1),o("el-form-item",{attrs:{label:t.$t("new_password"),prop:"password"}},[o("el-input",{attrs:{"show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),o("el-form-item",{attrs:{label:t.$t("password_confirmation"),prop:"password_confirmation"}},[o("el-input",{attrs:{"show-password":""},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"t",rawName:"v-t",value:"btnNo",expression:"'btnNo'"}],on:{click:function(e){t.showPassword=!1}}}),o("el-button",{directives:[{name:"t",rawName:"v-t",value:"btnYes",expression:"'btnYes'"}],attrs:{type:"primary"},on:{click:t.changePwd}})],1)],1),t.isAdmin?o("el-dialog",{attrs:{title:"个人资料",visible:t.showProfile,width:"400px"},on:{"update:visible":function(e){t.showProfile=e}}},[o("el-form",{attrs:{"label-width":"80px",model:t.form,rules:t.rules}},[o("el-form-item",{attrs:{label:"账号"}},[o("el-input",{model:{value:t.profile.username,callback:function(e){t.$set(t.profile,"username",e)},expression:"profile.username"}})],1),o("el-form-item",{attrs:{label:"姓名"}},[o("el-input",{model:{value:t.profile.nickname,callback:function(e){t.$set(t.profile,"nickname",e)},expression:"profile.nickname"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"t",rawName:"v-t",value:"btnNo",expression:"'btnNo'"}],on:{click:function(e){t.showProfile=!1}}}),o("el-button",{directives:[{name:"t",rawName:"v-t",value:"btnYes",expression:"'btnYes'"}],attrs:{type:"primary"},on:{click:t.changeProfile}})],1)],1):t._e(),t.isAdmin?o("div",{staticClass:"sound"},[t.topData.deposit.pending>0?o("audio",{attrs:{autoplay:"",loop:"",src:t.soundPath+"sound1.wav"}}):t._e(),t.topData.withdrawal.pending>0?o("audio",{attrs:{autoplay:"",loop:"",src:t.soundPath+"sound2.m4r"}}):t._e(),t.topData.question>0?o("audio",{attrs:{autoplay:"",loop:"",src:t.soundPath+"sound3.m4r"}}):t._e(),t.show.new?o("audio",{attrs:{autoplay:"",src:t.soundPath+"sound4.m4r"}}):t._e()]):t._e()],1)},s=[],a=o("4907"),i=a["a"],r=(o("9de6"),o("2877")),c=Object(r["a"])(i,n,s,!1,null,"2c29ada0",null);e["default"]=c.exports},"32a6":function(t,e,o){var n=o("241e"),s=o("c3a1");o("ce7e")("keys",function(){return function(t){return s(n(t))}})},"454f":function(t,e,o){o("46a7");var n=o("584a").Object;t.exports=function(t,e,o){return n.defineProperty(t,e,o)}},"46a7":function(t,e,o){var n=o("63b6");n(n.S+n.F*!o("8e60"),"Object",{defineProperty:o("d9f6").f})},4907:function(t,e,o){"use strict";(function(t){o("7f7f");var n=o("cebc"),s=o("2f62"),a=o("cd11");e["a"]={data:function(){return{showPassword:!1,showProfile:!1,rules:{old_password:{required:!0,message:this.$t("required",[this.$t("old_password")])},password:{required:!0,message:this.$t("required",[this.$t("new_password")])},password_confirmation:{required:!0,message:this.$t("required",[this.$t("password_confirmation")])}},form:{old_password:"",password:"",password_confirmation:""},profile:{username:"",nickname:""},show:{new:!1},soundPath:"/sound/",isFirst:!0}},computed:Object(n["a"])({},Object(s["c"])(["lang","member","topData","isAdmin"])),watch:{topData:function(t,e){var o=this;!this.isFirst&&t.member.new>e.member.new&&(this.show.new=!1,this.$nextTick(function(){o.show.new=!0})),this.isFirst=!1}},methods:Object(n["a"])({},Object(s["b"])(["selLang","logout","getMemberInfo"]),{submitLang:function(e){this.selLang(e),t.location.reload()},showPwd:function(){this.showPassword=!0},sprofile:function(){this.showProfile=!0},loginout:function(){this.logout().then(function(){t.location.reload()})},changePwd:function(){var t=this;this.$api.put("/tokens/password",this.form).then(function(e){e&&(t.showPassword=!1,t.$message.success(t.$t("change_pwd")),t.loginout())})},changeProfile:function(){var t=this;this.$api.put("/tokens/profile",this.profile).then(function(e){e&&t.loginout()})},doCmd:function(t){this[t]()},finance:function(t,e,o,n){if(this.topData[t][e]>0){"finance"!==this.$route.name&&this.$router.push({name:"finance"});var s=[];if("completed"===e){var a=moment().utcOffset(TZ).startOf("day").format();s=[a,a]}this.$store.commit("setFinance",{type:o,status:n,date:s})}},question:function(){this.topData.question>0&&("message"!==this.$route.name&&this.$router.push({name:"message"}),this.$store.commit("setQuestion",!0))},mem:function(t){if(this.topData.member[t]>0){"home"!==this.$route.name&&this.$router.push({name:"home"});var e={online:!1,date:[]};if("new"===t){var o=moment().utcOffset(TZ).startOf("day").format();e.date=[o,o]}else e.online=!0;this.$store.commit("setMem",e)}}}),mounted:function(){var t=this;this.isAdmin&&a["a"].init(),this.getMemberInfo().then(function(){t.profile.username=t.member.username,t.profile.nickname=t.member.nickname})},beforeDestroy:function(){this.isAdmin&&a["a"].close()}}}).call(this,o("c8ba"))},"5c42":function(t,e,o){},"5d58":function(t,e,o){t.exports=o("d8d6")},"67bb":function(t,e,o){t.exports=o("f921")},7618:function(t,e,o){"use strict";o.d(e,"a",function(){return c});var n=o("5d58"),s=o.n(n),a=o("67bb"),i=o.n(a);function r(t){return r="function"===typeof i.a&&"symbol"===typeof s.a?function(t){return typeof t}:function(t){return t&&"function"===typeof i.a&&t.constructor===i.a&&t!==i.a.prototype?"symbol":typeof t},r(t)}function c(t){return c="function"===typeof i.a&&"symbol"===r(s.a)?function(t){return r(t)}:function(t){return t&&"function"===typeof i.a&&t.constructor===i.a&&t!==i.a.prototype?"symbol":r(t)},c(t)}},"85f2":function(t,e,o){t.exports=o("454f")},"8aae":function(t,e,o){o("32a6"),t.exports=o("584a").Object.keys},"9de6":function(t,e,o){"use strict";var n=o("5c42"),s=o.n(n);s.a},a4bb:function(t,e,o){t.exports=o("8aae")},bf90:function(t,e,o){var n=o("36c3"),s=o("bf0b").f;o("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return s(n(t),e)}})},cd11:function(t,e,o){"use strict";(function(t){var n=o("f499"),s=o.n(n),a=o("7618"),i=o("c0d6"),r=o("5c96"),c={ws:null,needTip:!1,host:"ws://219.106.221.185:90/ws",si:null,retry:0,init:function(t){(null===this.ws||t)&&(this.needTip=!0,this.ws=new WebSocket(this.host),this.ws.onopen=l.onOpen,this.ws.onclose=l.onClose,this.ws.onmessage=l.onMessage,this.ws.onerror=l.onError)},close:function(){null!==this.ws&&(this.needTip=!1,this.ws.close())},send:function(t){"object"===Object(a["a"])(t)&&(t=s()(t)),this.ws.send(t)}},l={onOpen:function(){i["a"].state.token&&c.send({action:"login",type:0,token:i["a"].state.token.token}),c.retry>0&&(c.retry=0,console.info("%c重连成功","color: green")),c.si=setInterval(function(){c.send({heartbeat:!0})},5e4)},onClose:function(){!0===c.needTip?c.retry>=10?r["MessageBox"].alert("服务器连接失败，请稍后刷新页面再试！","服务端错误",{confirmButtonText:"刷新",type:"error",showClose:!1,closeOnHashChange:!1,callback:function(){t.location.reload()}}):(console.log("3秒后进行第".concat(++c.retry,"次重连")),setTimeout(function(){c.init(!0)},3e3)):c.ws=null,clearInterval(c.si)},onMessage:function(t){var e=t.data,o=JSON.parse(e);o.hasOwnProperty("action")&&"topdata"===o.action&&(delete o.action,i["a"].commit("saveTopData",o))},onError:function(){console.error("WS Error")}};e["a"]=c}).call(this,o("c8ba"))},ce7e:function(t,e,o){var n=o("63b6"),s=o("584a"),a=o("294c");t.exports=function(t,e){var o=(s.Object||{})[t]||Object[t],i={};i[t]=e(o),n(n.S+n.F*a(function(){o(1)}),"Object",i)}},cebc:function(t,e,o){"use strict";var n=o("268f"),s=o.n(n),a=o("e265"),i=o.n(a),r=o("a4bb"),c=o.n(r),l=o("85f2"),u=o.n(l);function d(t,e,o){return e in t?u()(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=c()(o);"function"===typeof i.a&&(n=n.concat(i()(o).filter(function(t){return s()(o,t).enumerable}))),n.forEach(function(e){d(t,e,o[e])})}return t}o.d(e,"a",function(){return p})},e265:function(t,e,o){t.exports=o("ed33")},ed33:function(t,e,o){o("014b"),t.exports=o("584a").Object.getOwnPropertySymbols},fde4:function(t,e,o){o("bf90");var n=o("584a").Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-7c9e417c.66c30f87.js.map