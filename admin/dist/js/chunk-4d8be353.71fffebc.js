(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d8be353"],{"268f":function(t,e,n){t.exports=n("fde4")},"32a6":function(t,e,n){var a=n("241e"),r=n("c3a1");n("ce7e")("keys",function(){return function(t){return r(a(t))}})},"386d":function(t,e,n){"use strict";var a=n("cb7c"),r=n("83a1"),o=n("5f1b");n("214f")("search",1,function(t,e,n,c){return[function(n){var a=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,a):new RegExp(n)[e](String(a))},function(t){var e=c(n,t,this);if(e.done)return e.value;var s=a(t),i=String(this),l=s.lastIndex;r(l,0)||(s.lastIndex=0);var u=o(s,i);return r(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]})},"454f":function(t,e,n){n("46a7");var a=n("584a").Object;t.exports=function(t,e,n){return a.defineProperty(t,e,n)}},"46a7":function(t,e,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},5176:function(t,e,n){t.exports=n("51b6")},"556c":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var a=n("bb36"),r=function(){return a["b"].get("/datas/agents")}},"70f6":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{staticClass:"search",attrs:{inline:!0,size:"mini","label-width":"80px"}},[t.isAdmin?n("el-form-item",{attrs:{label:t.$t("menu_agent")}},[n("el-select",{attrs:{filterable:"",clearable:""},model:{value:t.search.agent_id,callback:function(e){t.$set(t.search,"agent_id",e)},expression:"search.agent_id"}},t._l(t.agents,function(t){return n("el-option",{key:t.id,attrs:{label:t.nickname+" ("+t.username+")",value:t.id}})}),1)],1):t._e(),n("el-form-item",{attrs:{label:t.$t("date")}},[n("el-date-picker",{attrs:{type:"daterange","start-placeholder":t.$t("time_start"),"end-placeholder":t.$t("time_end")},model:{value:t.search.date,callback:function(e){t.$set(t.search,"date",e)},expression:"search.date"}})],1),n("el-form-item",[n("el-button",{directives:[{name:"t",rawName:"v-t",value:"search",expression:"'search'"}],attrs:{type:"primary"},on:{click:t.getData}})],1)],1),n("el-table",{ref:"table",attrs:{data:t.list,border:"",size:"mini","span-method":t.spanMethod,"row-class-name":t.rowClass,"row-key":"id"}},[n("el-table-column",{attrs:{label:t.$t("date"),width:"90",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return["data"!==a.type?n("b",[t._v(t._s(a.date))]):n("span",[t._v(t._s(a.date))])]}}])}),n("el-table-column",{attrs:{label:t.$t("menu_agent"),width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return n("agent",{attrs:{data:e.agent}})}}])}),n("el-table-column",{attrs:{label:t.$t("commission_rate"),width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return n("span",{},[t._v(t._s(a.agent?a.agent.commission_rate+"%":""))])}}])}),n("el-table-column",{attrs:{label:t.$t("deposit_sum"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return n("span",{},[t._v(t._s(t._f("numFormat")(a.deposit)))])}}])}),n("el-table-column",{attrs:{label:t.$t("withdrawal_sum"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return n("span",{},[t._v(t._s(t._f("numFormat")(a.withdrawal)))])}}])}),n("el-table-column",{attrs:{label:t.$t("lr"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[Number(a.profit)>=0?n("span",{staticStyle:{color:"#67C23A"}},[t._v("\n          "+t._s(t._f("numFormat")(a.profit))+"\n        ")]):n("span",{staticStyle:{color:"#ff4949"}},[t._v(t._s(t._f("numFormat")(a.profit)))])]}}])}),n("el-table-column",{attrs:{label:t.$t("sr"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[Number(a.income)>=0?n("span",{staticStyle:{color:"#67C23A"}},[t._v("\n          "+t._s(t._f("numFormat")(a.income))+"\n        ")]):n("span",{staticStyle:{color:"#ff4949"}},[t._v(t._s(t._f("numFormat")(a.income)))])]}}])}),n("el-table-column",{attrs:{prop:"login",label:t.$t("login_count"),align:"center"}}),n("el-table-column",{attrs:{prop:"deposit_count",label:t.$t("deposit_count"),align:"center"}}),n("el-table-column",{attrs:{prop:"withdrawal_count",label:t.$t("withdrawal_count"),align:"center"}})],1)],1)},r=[],o=(n("386d"),n("5176")),c=n.n(o),s=n("cebc"),i=n("556c"),l=n("2f62"),u={name:"statistic",data:function(){return{list:[],agents:[],search:{agent_id:"",date:[moment().utcOffset(TZ).subtract(10,"d").startOf("day").format(),moment().utcOffset(TZ).endOf("day").format()]}}},computed:Object(s["a"])({},Object(l["c"])(["isAdmin"]),{params:function(){var t=c()({},this.search);for(var e in t)t[e]||delete t[e];return t.date&&(2===t.date.length&&("string"===typeof t.date[0]?(t.date_start=t.date[0],t.date_end=t.date[1]):(t.date_start=t.date[0].format(),t.date_end=t.date[1].format())),delete t.date),t}}),methods:{getData:function(){var t=this;this.$api.get("/datas/statistics",{params:this.params}).then(function(e){e&&(t.list=e)})},spanMethod:function(t){var e=t.row,n=(t.column,t.columnIndex);if("data"!==e.type)switch(n){case 0:return[1,3];case 1:return[0,0];case 2:return[0,0]}},rowClass:function(t){var e=t.row;return e.type}},mounted:function(){var t=this;this.getData(),Object(i["a"])().then(function(e){e&&(t.agents=e)})}},f=u,d=(n("edb1"),n("2877")),b=Object(d["a"])(f,a,r,!1,null,null,null);e["default"]=b.exports},7821:function(t,e,n){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"85f2":function(t,e,n){t.exports=n("454f")},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},a4bb:function(t,e,n){t.exports=n("8aae")},bf90:function(t,e,n){var a=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return r(a(t),e)}})},ce7e:function(t,e,n){var a=n("63b6"),r=n("584a"),o=n("294c");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],c={};c[t]=e(n),a(a.S+a.F*o(function(){n(1)}),"Object",c)}},cebc:function(t,e,n){"use strict";var a=n("268f"),r=n.n(a),o=n("e265"),c=n.n(o),s=n("a4bb"),i=n.n(s),l=n("85f2"),u=n.n(l);function f(t,e,n){return e in t?u()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=i()(n);"function"===typeof c.a&&(a=a.concat(c()(n).filter(function(t){return r()(n,t).enumerable}))),a.forEach(function(e){f(t,e,n[e])})}return t}n.d(e,"a",function(){return d})},e265:function(t,e,n){t.exports=n("ed33")},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},edb1:function(t,e,n){"use strict";var a=n("7821"),r=n.n(a);r.a},fde4:function(t,e,n){n("bf90");var a=n("584a").Object;t.exports=function(t,e){return a.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-4d8be353.71fffebc.js.map