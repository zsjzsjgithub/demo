{"remainingRequest":"/www/web/node_modules/thread-loader/dist/cjs.js!/www/web/node_modules/babel-loader/lib/index.js!/www/web/src/router.js","dependencies":[{"path":"/www/web/src/router.js","mtime":1560668899000},{"path":"/www/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/www/web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/www/web/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport Vue from 'vue';\nimport store from './store';\nimport Router from 'vue-router';\nVue.use(Router);\nvar router = new Router({\n  'mode': 'history',\n  routes: [{\n    path: '/login',\n    name: 'login',\n    component: function component() {\n      return import('./views/Login');\n    }\n  }, {\n    path: '/',\n    components: {\n      header: function header() {\n        return import('./views/layout/Header');\n      },\n      main: function main() {\n        return import('./views/layout/Main');\n      }\n    },\n    children: [{\n      path: '',\n      name: 'home',\n      component: function component() {\n        return import('./views/Home');\n      }\n    }, {\n      path: 'rate',\n      name: 'rate',\n      component: function component() {\n        return import('./views/Rate');\n      }\n    }, {\n      path: 'order',\n      name: 'order',\n      component: function component() {\n        return import('./views/Order');\n      }\n    }, {\n      path: 'account',\n      name: 'account',\n      component: function component() {\n        return import('./views/Account');\n      }\n    }, {\n      path: 'message',\n      component: function component() {\n        return import('./views/Message');\n      },\n      children: [{\n        path: '',\n        name: 'service',\n        meta: {\n          type: 1\n        },\n        component: function component() {\n          return import('./views/Service');\n        }\n      }, {\n        path: 'service/:id',\n        name: 'service_detail',\n        component: function component() {\n          return import('./views/ServiceDetail');\n        }\n      }, {\n        path: 'problem',\n        name: 'problem',\n        meta: {\n          type: 2\n        },\n        component: function component() {\n          return import('./views/MessageList');\n        }\n      }, {\n        path: 'problem/:id',\n        name: 'problem_detail',\n        component: function component() {\n          return import('./views/MessageDetail');\n        }\n      }, {\n        path: 'notice',\n        name: 'notice',\n        meta: {\n          type: 3\n        },\n        component: function component() {\n          return import('./views/MessageList');\n        }\n      }, {\n        path: 'notice/:id',\n        name: 'notice_detail',\n        component: function component() {\n          return import('./views/MessageDetail');\n        }\n      }]\n    }, {\n      path: 'chat',\n      name: 'chat',\n      component: function component() {\n        return import('./views/Chat');\n      }\n    }, {\n      path: '*',\n      name: 'e404' // component: () => import('./components/404')\n\n    }]\n  }]\n});\nrouter.beforeEach(function (_ref, from, next) {\n  var name = _ref.name;\n  var token = store.state.token;\n\n  if (token) {\n    // 登录\n    if (name === 'login') {\n      next({\n        name: 'home'\n      });\n    } else {\n      next();\n    }\n  } else {\n    // 未登录\n    if (name === 'login') {\n      next();\n    } else {\n      next({\n        name: 'login'\n      });\n    }\n  }\n});\nexport default router;",{"version":3,"sources":["/www/web/src/router.js"],"names":["Vue","store","Router","use","router","routes","path","name","component","components","header","main","children","meta","type","beforeEach","from","next","token","state"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEAF,GAAG,CAACG,GAAJ,CAAQD,MAAR;AACA,IAAME,MAAM,GAAG,IAAIF,MAAJ,CAAW;AACxB,UAAQ,SADgB;AAExBG,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,eAAP,CAAN;AAAA;AAHb,GADM,EAMN;AACEF,IAAAA,IAAI,EAAE,GADR;AAEEG,IAAAA,UAAU,EAAE;AACVC,MAAAA,MAAM,EAAE;AAAA,eAAM,OAAO,uBAAP,CAAN;AAAA,OADE;AAEVC,MAAAA,IAAI,EAAE;AAAA,eAAM,OAAO,qBAAP,CAAN;AAAA;AAFI,KAFd;AAMEC,IAAAA,QAAQ,EAAE,CACR;AACEN,MAAAA,IAAI,EAAE,EADR;AAEEC,MAAAA,IAAI,EAAE,MAFR;AAGEC,MAAAA,SAAS,EAAE;AAAA,eAAM,OAAO,cAAP,CAAN;AAAA;AAHb,KADQ,EAMR;AACEF,MAAAA,IAAI,EAAE,MADR;AAEEC,MAAAA,IAAI,EAAE,MAFR;AAGEC,MAAAA,SAAS,EAAE;AAAA,eAAM,OAAO,cAAP,CAAN;AAAA;AAHb,KANQ,EAWR;AACEF,MAAAA,IAAI,EAAE,OADR;AAEEC,MAAAA,IAAI,EAAE,OAFR;AAGEC,MAAAA,SAAS,EAAE;AAAA,eAAM,OAAO,eAAP,CAAN;AAAA;AAHb,KAXQ,EAgBR;AACEF,MAAAA,IAAI,EAAE,SADR;AAEEC,MAAAA,IAAI,EAAE,SAFR;AAGEC,MAAAA,SAAS,EAAE;AAAA,eAAM,OAAO,iBAAP,CAAN;AAAA;AAHb,KAhBQ,EAqBR;AACEF,MAAAA,IAAI,EAAE,SADR;AAEEE,MAAAA,SAAS,EAAE;AAAA,eAAM,OAAO,iBAAP,CAAN;AAAA,OAFb;AAGEI,MAAAA,QAAQ,EAAE,CACR;AACEN,QAAAA,IAAI,EAAE,EADR;AAEEC,QAAAA,IAAI,EAAE,SAFR;AAGEM,QAAAA,IAAI,EAAE;AACJC,UAAAA,IAAI,EAAE;AADF,SAHR;AAMEN,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,iBAAP,CAAN;AAAA;AANb,OADQ,EASR;AACEF,QAAAA,IAAI,EAAE,aADR;AAEEC,QAAAA,IAAI,EAAE,gBAFR;AAGEC,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,uBAAP,CAAN;AAAA;AAHb,OATQ,EAcR;AACEF,QAAAA,IAAI,EAAE,SADR;AAEEC,QAAAA,IAAI,EAAE,SAFR;AAGEM,QAAAA,IAAI,EAAE;AACJC,UAAAA,IAAI,EAAE;AADF,SAHR;AAMEN,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,qBAAP,CAAN;AAAA;AANb,OAdQ,EAsBR;AACEF,QAAAA,IAAI,EAAE,aADR;AAEEC,QAAAA,IAAI,EAAE,gBAFR;AAGEC,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,uBAAP,CAAN;AAAA;AAHb,OAtBQ,EA2BR;AACEF,QAAAA,IAAI,EAAE,QADR;AAEEC,QAAAA,IAAI,EAAE,QAFR;AAGEM,QAAAA,IAAI,EAAE;AACJC,UAAAA,IAAI,EAAE;AADF,SAHR;AAMEN,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,qBAAP,CAAN;AAAA;AANb,OA3BQ,EAmCR;AACEF,QAAAA,IAAI,EAAE,YADR;AAEEC,QAAAA,IAAI,EAAE,eAFR;AAGEC,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,uBAAP,CAAN;AAAA;AAHb,OAnCQ;AAHZ,KArBQ,EAkER;AACEF,MAAAA,IAAI,EAAE,MADR;AAEEC,MAAAA,IAAI,EAAE,MAFR;AAGEC,MAAAA,SAAS,EAAE;AAAA,eAAM,OAAO,cAAP,CAAN;AAAA;AAHb,KAlEQ,EAuER;AACEF,MAAAA,IAAI,EAAE,GADR;AAEEC,MAAAA,IAAI,EAAE,MAFR,CAGE;;AAHF,KAvEQ;AANZ,GANM;AAFgB,CAAX,CAAf;AA+FAH,MAAM,CAACW,UAAP,CAAkB,gBAASC,IAAT,EAAeC,IAAf,EAAwB;AAAA,MAAtBV,IAAsB,QAAtBA,IAAsB;AACxC,MAAIW,KAAK,GAAGjB,KAAK,CAACkB,KAAN,CAAYD,KAAxB;;AAEA,MAAIA,KAAJ,EAAW;AACT;AACA,QAAIX,IAAI,KAAK,OAAb,EAAsB;AACpBU,MAAAA,IAAI,CAAC;AAACV,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAJ;AACD,KAFD,MAEO;AACLU,MAAAA,IAAI;AACL;AACF,GAPD,MAOO;AACL;AACA,QAAIV,IAAI,KAAK,OAAb,EAAsB;AACpBU,MAAAA,IAAI;AACL,KAFD,MAEO;AACLA,MAAAA,IAAI,CAAC;AAACV,QAAAA,IAAI,EAAE;AAAP,OAAD,CAAJ;AACD;AACF;AACF,CAlBD;AAoBA,eAAeH,MAAf","sourcesContent":["import Vue from 'vue'\nimport store from './store'\nimport Router from 'vue-router'\n\nVue.use(Router)\nconst router = new Router({\n  'mode': 'history',\n  routes: [\n    {\n      path: '/login',\n      name: 'login',\n      component: () => import('./views/Login')\n    },\n    {\n      path: '/',\n      components: {\n        header: () => import('./views/layout/Header'),\n        main: () => import('./views/layout/Main'),\n      },\n      children: [\n        {\n          path: '',\n          name: 'home',\n          component: () => import('./views/Home')\n        },\n        {\n          path: 'rate',\n          name: 'rate',\n          component: () => import('./views/Rate')\n        },\n        {\n          path: 'order',\n          name: 'order',\n          component: () => import('./views/Order')\n        },\n        {\n          path: 'account',\n          name: 'account',\n          component: () => import('./views/Account')\n        },\n        {\n          path: 'message',\n          component: () => import('./views/Message'),\n          children: [\n            {\n              path: '',\n              name: 'service',\n              meta: {\n                type: 1\n              },\n              component: () => import('./views/Service')\n            },\n            {\n              path: 'service/:id',\n              name: 'service_detail',\n              component: () => import('./views/ServiceDetail')\n            },\n            {\n              path: 'problem',\n              name: 'problem',\n              meta: {\n                type: 2\n              },\n              component: () => import('./views/MessageList')\n            },\n            {\n              path: 'problem/:id',\n              name: 'problem_detail',\n              component: () => import('./views/MessageDetail')\n            },\n            {\n              path: 'notice',\n              name: 'notice',\n              meta: {\n                type: 3\n              },\n              component: () => import('./views/MessageList')\n            },\n            {\n              path: 'notice/:id',\n              name: 'notice_detail',\n              component: () => import('./views/MessageDetail')\n            }\n          ]\n        },\n        {\n          path: 'chat',\n          name: 'chat',\n          component: () => import('./views/Chat')\n        },\n        {\n          path: '*',\n          name: 'e404',\n          // component: () => import('./components/404')\n        }\n      ]\n    }\n  ]\n})\n\nrouter.beforeEach(({name}, from, next) => {\n  let token = store.state.token\n\n  if (token) {\n    // 登录\n    if (name === 'login') {\n      next({name: 'home'})\n    } else {\n      next()\n    }\n  } else {\n    // 未登录\n    if (name === 'login') {\n      next()\n    } else {\n      next({name: 'login'})\n    }\n  }\n})\n\nexport default router\n"]}]}