{"remainingRequest":"/www/web/node_modules/thread-loader/dist/cjs.js!/www/web/node_modules/babel-loader/lib/index.js!/www/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/www/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/www/web/src/views/layout/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/www/web/src/views/layout/Header.vue","mtime":1560668899000},{"path":"/www/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/www/web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/www/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/www/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/www/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/www/web/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ws from './../../ws';\nimport { mapState, mapActions } from 'vuex';\nexport default {\n  data: function data() {\n    return {\n      showPassword: false,\n      rules: {\n        old_password: {\n          required: true,\n          message: this.$t('check.required', [this.$t('field.old_password')])\n        },\n        password: {\n          required: true,\n          message: this.$t('check.required', [this.$t('field.new_password')])\n        },\n        password_confirmation: {\n          required: true,\n          message: this.$t('check.required', [this.$t('field.password_confirmation')])\n        }\n      },\n      form: {\n        old_password: '',\n        password: '',\n        password_confirmation: ''\n      },\n      intl: null,\n      pops: []\n    };\n  },\n  computed: _objectSpread({}, mapState(['lang', 'member', 'forex', 'time', 'sleep'])),\n  methods: _objectSpread({}, mapActions(['selLang', 'logout', 'getMemberInfo']), {\n    submitLang: function submitLang(lang) {\n      this.selLang(lang);\n      global.location.reload();\n    },\n    showPwd: function showPwd() {\n      this.showPassword = true;\n    },\n    loginout: function loginout() {\n      this.logout().then(function () {\n        global.location.reload();\n      });\n    },\n    changePwd: function changePwd() {\n      var _this = this;\n\n      this.$api.put('/tokens/password', this.form).then(function (data) {\n        if (data) {\n          _this.showPassword = false;\n\n          _this.$message.success(_this.$t('head.change_pwd'));\n\n          _this.loginout();\n        }\n      });\n    },\n    doCmd: function doCmd(cmd) {\n      this[cmd]();\n    },\n    getPops: function getPops() {\n      var _this2 = this;\n\n      this.$api.get('/settings/pops?is_enable=1').then(function (data) {\n        if (data) {\n          _this2.pops = data;\n        }\n      });\n    }\n  }),\n  mounted: function mounted() {\n    this.getPops();\n    this.getMemberInfo();\n    ws.init();\n  },\n  beforeDestroy: function beforeDestroy() {\n    ws.close();\n  }\n};",{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA,OAAA,EAAA,MAAA,YAAA;AACA,SAAA,QAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA;AACA,QAAA,YAAA,EAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,KAAA,EAAA,CAAA,gBAAA,EAAA,CAAA,KAAA,EAAA,CAAA,oBAAA,CAAA,CAAA;AAAA,SADA;AAEA,QAAA,QAAA,EAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,KAAA,EAAA,CAAA,gBAAA,EAAA,CAAA,KAAA,EAAA,CAAA,oBAAA,CAAA,CAAA;AAAA,SAFA;AAGA,QAAA,qBAAA,EAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,KAAA,EAAA,CAAA,gBAAA,EAAA,CAAA,KAAA,EAAA,CAAA,6BAAA,CAAA,CAAA;AAAA;AAHA,OAFA;AAOA,MAAA,IAAA,EAAA;AACA,QAAA,YAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,qBAAA,EAAA;AAHA,OAPA;AAYA,MAAA,IAAA,EAAA,IAZA;AAaA,MAAA,IAAA,EAAA;AAbA,KAAA;AAeA,GAjBA;AAkBA,EAAA,QAAA,oBACA,QAAA,CAAA,CACA,MADA,EAEA,QAFA,EAGA,OAHA,EAIA,MAJA,EAKA,OALA,CAAA,CADA,CAlBA;AA2BA,EAAA,OAAA,oBACA,UAAA,CAAA,CACA,SADA,EAEA,QAFA,EAGA,eAHA,CAAA,CADA;AAMA,IAAA,UANA,sBAMA,IANA,EAMA;AACA,WAAA,OAAA,CAAA,IAAA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,KATA;AAUA,IAAA,OAVA,qBAUA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,KAZA;AAaA,IAAA,QAbA,sBAaA;AACA,WAAA,MAAA,GAAA,IAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,OAFA;AAGA,KAjBA;AAkBA,IAAA,SAlBA,uBAkBA;AAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,KAAA,IAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,KAAA,CAAA,EAAA,CAAA,iBAAA,CAAA;;AACA,UAAA,KAAA,CAAA,QAAA;AACA;AACA,OANA;AAOA,KA1BA;AA2BA,IAAA,KA3BA,iBA2BA,GA3BA,EA2BA;AACA,WAAA,GAAA;AACA,KA7BA;AA8BA,IAAA,OA9BA,qBA8BA;AAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,4BAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,GAAA,IAAA;AACA;AACA,OAJA;AAKA;AApCA,IA3BA;AAiEA,EAAA,OAjEA,qBAiEA;AACA,SAAA,OAAA;AACA,SAAA,aAAA;AACA,IAAA,EAAA,CAAA,IAAA;AACA,GArEA;AAsEA,EAAA,aAtEA,2BAsEA;AACA,IAAA,EAAA,CAAA,KAAA;AACA;AAxEA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"top-bar\" v-show=\"!sleep\">\n      <div class=\"top-bar-main\">\n        <!--<el-dropdown trigger=\"click\" placement=\"bottom\">-->\n          <!--<span class=\"dropdown-link\">-->\n            <!--GBP/AUD-->\n            <!--<i class=\"el-icon-caret-bottom el-icon&#45;&#45;right\"></i>-->\n          <!--</span>-->\n          <!--<el-dropdown-menu slot=\"dropdown\">-->\n            <!--<el-dropdown-item disabled>GBP/AUD</el-dropdown-item>-->\n          <!--</el-dropdown-menu>-->\n        <!--</el-dropdown>-->\n        <span class=\"dropdown-link\">GBP/AUD</span>\n        &nbsp;\n        {{time}}\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <span class=\"rrt\">\n          O&nbsp;<em>{{forex.open}}</em>\n          &nbsp;&nbsp;&nbsp;\n          H&nbsp;<em>{{forex.high}}</em>\n          &nbsp;&nbsp;&nbsp;\n          L&nbsp;<em>{{forex.low}}</em>\n          &nbsp;&nbsp;&nbsp;\n          C&nbsp;<em>{{forex.close}}</em>\n        </span>\n      </div>\n    </div>\n    <div class=\"menu\">\n      <div class=\"main\">\n        <div class=\"rt\">\n          <el-dropdown class=\"account\" trigger=\"click\"  placement=\"bottom\" @command=\"doCmd\">\n            <span class=\"account-link\">\n              {{member ? (member.nickname ? member.nickname : member.username) : ''}}<i class=\"el-icon-caret-bottom el-icon--right\"></i>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <p class=\"ye\"><label v-t=\"'header.balance'\">:</label> {{(member ? member.balance: 0)|numFormat}}</p>\n              <el-dropdown-item v-t=\"'base.change_password'\" command=\"showPwd\"></el-dropdown-item>\n              <el-dropdown-item divided class=\"logout\" v-t=\"'base.logout'\" command=\"loginout\"></el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <el-dropdown class=\"lang\" trigger=\"click\" placement=\"bottom\" @command=\"submitLang\">\n            <span class=\"lang-link\">\n              <template v-if=\"lang === 'ko_KR'\">\n                <em class=\"ko_KR\"></em>한국어\n              </template>\n              <template v-if=\"lang === 'zh_CN'\">\n                <em></em>中文\n              </template>\n              <i class=\"el-icon-caret-bottom el-icon--right\"></i>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"ko_KR\" v-show=\"lang !== 'ko_KR'\">한국어</el-dropdown-item>\n              <el-dropdown-item command=\"zh_CN\" v-show=\"lang !== 'zh_CN'\">中文</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n        <router-link to=\"/\" class=\"logo\">FX HOS</router-link>\n        <el-dropdown class=\"menu-list-down\" trigger=\"click\" placement=\"bottom\">\n          <span class=\"title\">\n            <span v-if=\"$route.name === 'home'\" v-t=\"'header.trade'\"></span>\n            <span v-else-if=\"$route.name === 'rate'\" v-t=\"'header.rate'\"></span>\n            <span v-else-if=\"$route.name === 'order'\" v-t=\"'header.order'\"></span>\n            <span v-else-if=\"$route.name === 'account'\" v-t=\"'header.account'\"></span>\n            <span v-else-if=\"$route.name === 'chat'\" v-t=\"'header.chat'\"></span>\n            <span v-else v-t=\"'header.message'\"></span>\n            <i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item><router-link class=\"adown\" to=\"/\" v-t=\"'header.trade'\"></router-link></el-dropdown-item>\n            <el-dropdown-item><router-link class=\"adown\" to=\"/rate\" v-t=\"'header.rate'\"></router-link></el-dropdown-item>\n            <el-dropdown-item><router-link class=\"adown\" to=\"/order\" v-t=\"'header.order'\"></router-link></el-dropdown-item>\n            <el-dropdown-item><router-link class=\"adown\" to=\"/account\" v-t=\"'header.account'\"></router-link></el-dropdown-item>\n            <el-dropdown-item><router-link class=\"adown\" to=\"/message\" v-t=\"'header.message'\"></router-link></el-dropdown-item>\n            <el-dropdown-item><router-link class=\"adown\" to=\"/chat\" v-t=\"'header.chat'\"></router-link></el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n        <div class=\"menu-list\">\n          <router-link to=\"/\" v-t=\"'header.trade'\"></router-link>\n          <router-link to=\"/rate\" v-t=\"'header.rate'\"></router-link>\n          <router-link to=\"/order\" v-t=\"'header.order'\"></router-link>\n          <router-link to=\"/account\" v-t=\"'header.account'\"></router-link>\n          <router-link to=\"/message\" :class=\"{sel: ['service_detail', 'problem', 'notice'].includes($route.name)}\" v-t=\"'header.message'\"></router-link>\n          <router-link to=\"/chat\" v-t=\"'header.chat'\"></router-link>\n        </div>\n      </div>\n    </div>\n    <el-dialog :title=\"$t('base.change_password')\" :visible.sync=\"showPassword\" custom-class=\"dialog-400\">\n      <el-form label-width=\"80px\" :model=\"form\" :rules=\"rules\">\n        <el-form-item :label=\"$t('field.old_password')\" prop=\"old_password\">\n          <el-input v-model=\"form.old_password\" show-password></el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('field.new_password')\" prop=\"password\">\n          <el-input v-model=\"form.password\" show-password></el-input>\n        </el-form-item>\n        <el-form-item :label=\"$t('field.password_confirmation')\" prop=\"password_confirmation\">\n          <el-input v-model=\"form.password_confirmation\" show-password></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"showPassword = false\" v-t=\"'base.btnNo'\"></el-button>\n        <el-button type=\"primary\" v-t=\"'base.btnYes'\" @click=\"changePwd\"></el-button>\n      </div>\n    </el-dialog>\n    <el-card v-for=\"(p, i) in pops\" :key=\"p.id\" class=\"popcard\" :style=\"`\n      width: ${p.width}px;\n      ${p.xt === 'center' ? `left: 50%; margin-left: -${p.width/2+1}px` : `${p.xt}: ${p.x}px`};\n      ${p.yt === 'center' ? `top: 50%; margin-top: -${p.height/2+1}px` : `${p.yt}: ${p.y}px`};\n    `\">\n      <div slot=\"header\" class=\"header\">\n        <span>{{p.title}}</span>\n        <i class=\"el-icon-close\" @click=\"pops.splice(i, 1)\"></i>\n      </div>\n      <div v-html=\"p.content\" :style=\"{height: `${p.height - 57}px`}\" class=\"body\"></div>\n    </el-card>\n  </div>\n</template>\n\n<script>\n  import ws from './../../ws'\n  import {mapState, mapActions} from 'vuex'\n\n  export default {\n    data() {\n      return {\n        showPassword: false,\n        rules: {\n          old_password: {required: true, message: this.$t('check.required', [this.$t('field.old_password')])},\n          password: {required: true, message: this.$t('check.required', [this.$t('field.new_password')])},\n          password_confirmation: {required: true, message: this.$t('check.required', [this.$t('field.password_confirmation')])},\n        },\n        form: {\n          old_password: '',\n          password: '',\n          password_confirmation: ''\n        },\n        intl: null,\n        pops: []\n      }\n    },\n    computed: {\n      ...mapState([\n        'lang',\n        'member',\n        'forex',\n        'time',\n        'sleep'\n      ])\n    },\n    methods: {\n      ...mapActions([\n        'selLang',\n        'logout',\n        'getMemberInfo',\n      ]),\n      submitLang(lang) {\n        this.selLang(lang)\n        global.location.reload()\n      },\n      showPwd() {\n        this.showPassword = true\n      },\n      loginout() {\n        this.logout().then(() => {\n          global.location.reload()\n        })\n      },\n      changePwd() {\n        this.$api.put('/tokens/password', this.form).then(data => {\n          if (data) {\n            this.showPassword = false\n            this.$message.success(this.$t('head.change_pwd'))\n            this.loginout()\n          }\n        })\n      },\n      doCmd(cmd) {\n        this[cmd]()\n      },\n      getPops() {\n        this.$api.get('/settings/pops?is_enable=1').then(data => {\n          if (data) {\n            this.pops = data\n          }\n        })\n      }\n    },\n    mounted() {\n      this.getPops()\n      this.getMemberInfo()\n      ws.init()\n    },\n    beforeDestroy() {\n      ws.close()\n    }\n  }\n</script>\n\n<style scoped lang=\"less\">\n  @import \"../../assets/config\";\n\n  .top-bar {\n    background: @color_deep;\n\n    &-main {\n      .wm;\n      line-height: 46px;\n      height: 46px;\n      overflow: hidden;\n      color: #fff;\n      font-size: 12px;\n\n      .dropdown-link {\n        color: #10ADE4;\n        cursor: pointer;\n        font-size: 12px;\n      }\n\n      .el-icon-caret-bottom {\n        font-size: 12px;\n      }\n\n      em {\n        font-style: normal;\n        color: #FD4322;\n      }\n    }\n  }\n\n  .menu {\n    background: @color_blue;\n    color: #fff;\n    line-height: 64px;\n\n    .main {\n      .wm;\n      overflow: auto;\n\n      .rt {\n        .fr;\n\n        .account {\n          .fl;\n          margin-top: (64-40)/2px;\n          border-radius: 4px;\n          cursor: pointer;\n\n          &:hover {\n            .hover;\n          }\n\n          &-link {\n            line-height: 40px;\n            height: 40px;\n            display: block;\n            font-size: 16px;\n            color: #fff;\n            padding: 0 10px;\n\n            .el-icon-caret-bottom {\n              font-size: 14px;\n            }\n          }\n        }\n\n        .lang {\n          .fl;\n          margin-left: 10px;\n          margin-top: (64-40)/2px;\n          border-radius: 4px;\n          cursor: pointer;\n\n          &:hover {\n            .hover;\n          }\n\n          &-link {\n            display: block;\n            height: 20px;\n            line-height: 20px;\n            font-size: 12px;\n            color: #fff;\n            padding: 10px;\n\n            .el-icon-caret-bottom {\n              font-size: 12px;\n            }\n\n            em {\n              .fl;\n              width: 30px;\n              height: 20px;\n              background: url(\"../../assets/lang.jpg\") no-repeat;\n              margin-right: 6px;\n\n              &.ko_KR {\n                background-position-y: -20px;\n              }\n            }\n          }\n        }\n      }\n\n      .logo {\n        height: 64px;\n        line-height: 70px;\n        .fl;\n        width: 164px;\n        font-size: 36px;\n        font-weight: bold;\n      }\n\n      .menu-list {\n        .fl;\n        a {\n          .fl;\n          .tc;\n          font-size: 16px;\n          width: 100px;\n\n          &:hover {\n            .hover;\n          }\n\n          &.router-link-exact-active, &.sel {\n            .hover;\n          }\n        }\n      }\n\n      .menu-list-down {\n        .fl;\n        .hover;\n        text-align: center;\n        color: #fff;\n        width: 110px;\n        height: 40px;\n        line-height: 40px;\n        display: none;\n        span.title {\n          font-size: 16px;\n        }\n      }\n    }\n  }\n\n  .adown {\n    display: block;\n  }\n\n  .logout {\n    color: #F56C6C;\n  }\n\n  .ye {\n    background: #f9f9f9;\n    line-height: 36px;\n    padding: 0 20px;\n    color: #606266;\n    label {\n      color: #FF8A1E;\n    }\n  }\n\n  @media screen and (max-width: 1200px) {\n    .top-bar {\n      &-main {\n        padding: 8px 0;\n        padding-left: 10px;\n        width: 100%;\n        box-sizing: border-box;\n        line-height: 20px;\n        height: auto;\n\n        .rrt {\n          display: inline-block;\n        }\n      }\n    }\n\n    .menu {\n      .main {\n        box-sizing: border-box;\n        height: 40px;\n        line-height: 40px;\n        width: 100%;\n        padding: 0 10px;\n        .logo {\n          display: none;\n        }\n\n        .menu-list {\n          display: none;\n        }\n\n        .menu-list-down {\n          display: block;\n        }\n\n        .rt .account, .rt .lang {\n          margin-top: 0;\n        }\n      }\n    }\n  }\n\n  @media screen and (max-width: 500px) {\n    .top-bar {\n      &-main {\n        .rrt {\n          display: none;\n        }\n      }\n    }\n  }\n</style>\n\n<style lang=\"less\">\n  @import \"../../assets/config\";\n  .popcard {\n    position: fixed;\n    z-index: 200;\n\n    .el-card__header, .el-card__body {\n      padding: 9px 10px;\n    }\n\n    .header {\n      .el-icon-close {\n        .fr;\n        font-size: 16px;\n        color: #909399;\n        cursor: pointer;\n\n        &:hover {\n          color: #409EFF;\n        }\n      }\n    }\n\n    .body {\n      overflow: auto;\n    }\n\n  }\n</style>"],"sourceRoot":"src/views/layout"}]}