{"remainingRequest":"/www/web/node_modules/thread-loader/dist/cjs.js!/www/web/node_modules/babel-loader/lib/index.js!/www/web/src/lib.js","dependencies":[{"path":"/www/web/src/lib.js","mtime":1560668899000},{"path":"/www/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/www/web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/www/web/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport _parseFloat from \"/www/web/node_modules/@babel/runtime-corejs2/core-js/parse-float\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\n// 获取token\nimport store from './store'; // 载入语言\n\nimport elCN from 'element-ui/lib/locale/lang/zh-CN';\nimport elKR from 'element-ui/lib/locale/lang/ko';\nimport local from 'element-ui/lib/locale';\nvar elLang = {\n  zh_CN: elCN,\n  ko_KR: elKR\n};\nvar lang = localStorage.lang;\n\nif (lang) {\n  local.use(elLang[lang]);\n  store.commit('setLang', lang);\n} else {\n  store.dispatch('selLang', process.env.VUE_APP_DEFAULT_LANG);\n  local.use(elLang[process.env.VUE_APP_DEFAULT_LANG]);\n} // 载入token\n\n\nvar token = localStorage.JWT_FXHOS_TOKEN;\n\nif (token) {\n  store.commit('saveToken', JSON.parse(token));\n} // 时间格式化\n\n\nDate.prototype.format = function (fmt) {\n  if (!fmt) {\n    fmt = 'yyyy-MM-dd hh:mm:ss';\n  }\n\n  var o = {\n    \"M+\": this.getMonth() + 1,\n    //月份\n    \"d+\": this.getDate(),\n    //日\n    \"h+\": this.getHours(),\n    //小时\n    \"m+\": this.getMinutes(),\n    //分\n    \"s+\": this.getSeconds(),\n    //秒\n    \"q+\": Math.floor((this.getMonth() + 3) / 3),\n    //季度\n    \"S\": this.getMilliseconds() //毫秒\n\n  };\n  if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n\n  for (var k in o) {\n    if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n  }\n\n  return fmt;\n};\n\nexport default {\n  install: function install(Vue) {\n    // 解析后端UTC时间\n    Vue.prototype.parseDate = function (dateTime, fmt) {\n      if (!dateTime) {\n        return '';\n      }\n\n      dateTime = dateTime.replace(' ', 'T') + 'Z';\n\n      if (!fmt) {\n        fmt = 'yyyy-MM-dd hh:mm:ss';\n      }\n\n      return new Date(dateTime).format(fmt);\n    };\n\n    Vue.filter('dateFormat', function (date, fmt) {\n      data.format(fmt);\n    });\n    Vue.filter('numFormat', function (num) {\n      if (!num) {\n        return '0';\n      }\n\n      num = _parseFloat(num);\n      return num.toString().indexOf('.') !== -1 ? num.toLocaleString() : num.toString().replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,');\n    });\n    Vue.filter('dft', function (value, f) {\n      if (!value) {\n        return f || '';\n      }\n\n      return value;\n    });\n  }\n};",{"version":3,"sources":["/www/web/src/lib.js"],"names":["store","elCN","elKR","local","elLang","zh_CN","ko_KR","lang","localStorage","use","commit","dispatch","process","env","VUE_APP_DEFAULT_LANG","token","JWT_FXHOS_TOKEN","JSON","parse","Date","prototype","format","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","test","replace","RegExp","$1","getFullYear","substr","length","k","install","Vue","parseDate","dateTime","filter","date","data","num","toString","indexOf","toLocaleString","value","f"],"mappings":"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","sourcesContent":["// 获取token\nimport store from './store';\n\n// 载入语言\nimport elCN from 'element-ui/lib/locale/lang/zh-CN'\nimport elKR from 'element-ui/lib/locale/lang/ko'\nimport local from 'element-ui/lib/locale'\n\nlet elLang = {\n  zh_CN: elCN,\n  ko_KR: elKR\n}\nlet lang = localStorage.lang\nif (lang) {\n  local.use(elLang[lang])\n  store.commit('setLang', lang)\n} else {\n  store.dispatch('selLang', process.env.VUE_APP_DEFAULT_LANG)\n  local.use(elLang[process.env.VUE_APP_DEFAULT_LANG])\n}\n\n// 载入token\nlet token = localStorage.JWT_FXHOS_TOKEN\nif (token) {\n  store.commit('saveToken', JSON.parse(token))\n}\n\n// 时间格式化\nDate.prototype.format = function (fmt) {\n  if (!fmt) {\n    fmt = 'yyyy-MM-dd hh:mm:ss'\n  }\n  const o = {\n    \"M+\": this.getMonth() + 1, //月份\n    \"d+\": this.getDate(), //日\n    \"h+\": this.getHours(), //小时\n    \"m+\": this.getMinutes(), //分\n    \"s+\": this.getSeconds(), //秒\n    \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\n    \"S\": this.getMilliseconds() //毫秒\n  };\n  if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n  for (let k in o)\n    if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n  return fmt;\n}\n\nexport default {\n  install(Vue) {\n    // 解析后端UTC时间\n    Vue.prototype.parseDate = (dateTime, fmt) => {\n      if (!dateTime) {\n        return ''\n      }\n      dateTime = dateTime.replace(' ', 'T') + 'Z';\n      if (!fmt) {\n        fmt = 'yyyy-MM-dd hh:mm:ss'\n      }\n      return new Date(dateTime).format(fmt)\n    }\n\n    Vue.filter('dateFormat', (date, fmt) => {\n      data.format(fmt)\n    })\n\n    Vue.filter('numFormat', num => {\n      if (!num) {\n        return '0'\n      }\n      num = parseFloat(num)\n      return (num.toString().indexOf ('.') !== -1) ? num.toLocaleString() : num.toString().replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,');\n    })\n\n    Vue.filter('dft', (value, f) => {\n      if (!value) {\n        return f || ''\n      }\n      return value\n    })\n  }\n}\n"]}]}